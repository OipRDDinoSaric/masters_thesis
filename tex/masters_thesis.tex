\documentclass[utf8, diplomski, english, numeric]{fer}
\usepackage{booktabs}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{graphicx}
\usepackage{grffile}
\usepackage{listings}
\usepackage[table,xcdraw]{xcolor}
\usepackage{multirow}
\usepackage{dirtree}
\usepackage{float}
\usepackage[hidelinks]{hyperref}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage[fixlanguage]{babelbib}
\usepackage[outputdir=build]{minted}
\usepackage{todonotes}
\usepackage[title]{appendix}

\lstset{
basicstyle=\small\ttfamily,
columns=flexible,
breaklines=true
}

\newcommand{\todoi}[1]{\todo[inline]{#1}}

\newcommand{\code}[1]{\texttt{#1}}

\def\changemargin#1#2{\list{}{\rightmargin#2\leftmargin#1}\item[]}
\let\endchangemargin=\endlist 

\begin{document}

\thesisnumber{1981}

\title{Software and Hardware Architecture for Redundant Embedded Systems}

\author{Dino Šarić}

\maketitle

\izvornik
%\includepdf[pages={1-}]{izvornik.pdf}

\zahvala{Thanks to my parents for supporting me financially and giving me an opportunity of studying away from home. Thanks to my aunt Dijana and my friends for supporting me emotionally. 

Thanks to my mentor izv. prof. dr. sc. Hrvoje Džapo and his assistant Ivan Pavić mag. ing. for a friendly, fast and diligent approach during the studies and the writing of the thesis. Thanks to all the helpful current and former students from the college forums. Finally, thanks to the YouTubers that made understanding the college curriculum much easier.} % Gramarly OK

\tableofcontents
\listoffigures
\listoftables

\include{chapters/introduction}
\include{chapters/functional_safety}
\include{chapters/cortex_r_additions}
\include{chapters/freertos_kernel}
\include{chapters/freertos_modification}
\include{chapters/custom_bootloader}
\include{chapters/demonstration}
\include{chapters/conclusion}

\bibliography{../literatura}
\bibliographystyle{../fer}

\begin{abstract}

In this thesis, an overview of functional safety and relevant standards for system development was presented. Particular emphasis was on the functional safety in embedded systems. The ARM Cortex-R architecture mechanisms for functional safety improvements over the ARM Cortex-M architecture were described. Software for redundancy implementation on an ARM Cortex-M microcontroller was developed. The software encompasses a custom-developed bootloader and a modified FreeRTOS operating system. The bootloader allows the loading of new applications and a command shell with accompanying functions. The modified FreeRTOS operating system includes the capability of tracking individual tasks execution time and the ability to replicate tasks. The implemented software functionality was demonstrated in examples.  % Gramarly OK

\keywords{Functional safety, IEC 61508, IEC 26262, bootloader, certification, ARM, Cortex R, FreeRTOS, Cortex M, kernel, redudancy, lock-step} % Gramarly OK
\end{abstract}

\hrtitle{Programska i sklopovska arhitektura redundantnih ugradbenih računalnih sustava}
\begin{sazetak}

U radu je prikazan pregled problematike funkcijske sigurnosti te su ukratko opisani odgovarajući standardi razvoja funkcijsko sigurnih sustava. Posebna pažnja posvećena je funkcijskoj sigurnosti u ugradbenim računalnim sustavima. Opisani su mehanizmi kojima ARM Cortex-R arhitektura unapređuje funkcijsku sigurnost u odnosu na ARM Cortex-M arhitekturu. Razvijena je programska potpora za ostvarivanje redundancije na mikrokontroleru s ARM Cortex-M arhitekturom. Programska potpora sadržava vlastito razvijeni bootloader i modificirani operacijski sustav FreeRTOS. Bootloader omogućuje učitavanje novih aplikacija i naredbenu ljusku s odgovarajućim funkcijama. Modificirani operacijski sustav FreeRTOS ima mogućnost praćenja vremena izvođenja pojedinih zadataka i sposobnost repliciranja zadataka (engl. task replication). Implementirana funkcionalnost je demonstrirana u primjerima.

\kljucnerijeci{Funkcijska sigurnost, IEC 61508, IEC 26262, bootloader, certifikacija, ARM, Cortex R, FreeRTOS, Cortex M, jezgra, redundancija, repliciranje zadataka}
\end{sazetak}

\begin{appendices}
\include{appendix/a}
\include{appendix/b}
\end{appendices}

\end{document}
